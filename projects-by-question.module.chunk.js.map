{"version":3,"sources":["./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.css","./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.html","./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.ts","./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.module.ts","./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.routing.ts"],"names":[],"mappings":"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","file":"projects-by-question.module.chunk.js","sourcesContent":["module.exports = \".chart-container {\\n    height: 30vh;\\n\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.css\n// module id = ./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.css\n// module chunks = projects-by-question.module","module.exports = \"<div *ngFor=\\\"let project of arrayOfProjectsByQuestion\\\">\\n  {{ project | json }}\\n</div>\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.html\n// module id = ./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.html\n// module chunks = projects-by-question.module","import { ActivatedRoute } from '@angular/router';\nimport { Answer } from '@app/shared/models/answer.model';\nimport { AnswerStore, ProjectStore, QuestionStore } from '@app/core/stores';\nimport { Component, OnInit } from '@angular/core';\nimport { Project } from '@app/shared/models/project.model';\nimport { Question } from '@app/shared/models/question.model';\nimport * as _ from 'lodash';\n\n@Component({\n  selector: 'ffufm-feedback-dashboard-projects-by-question',\n  templateUrl: './projects-by-question.component.html',\n  styleUrls: ['./projects-by-question.component.css']\n})\nexport class ProjectsByQuestionComponent implements OnInit {\n\n  teamId: string;\n  questionId: string;\n  answers: Answer[];\n  answersByUser: any[];\n  projects: Project[];\n  projectsByUser: Project[];\n  questions: Question[];\n  projectsByQuestion: {};\n  arrayOfProjectsByQuestion: any[];\n\n  constructor(private route: ActivatedRoute,\n              private projectStore: ProjectStore,\n              private answerStore: AnswerStore,\n              private questionStore: QuestionStore) { }\n\n  ngOnInit() {\n\n    this.route.params.subscribe(params => {\n      this.projectsByQuestion = [];\n      this.teamId = params.teamId;\n      this.questionId = params.questionId;\n      this.getProjectsByQuestion();\n    });\n  }\n\n  getProjectsByQuestion() {\n    this.getAnswers();\n    this.getQuestions();\n    this.getProjectsByUser();\n    this.answersByUser = [];\n    this.answers.forEach((answer) => {\n      this.projectsByUser.forEach((project) => {\n        this.questions.forEach((question) => {\n          if (question.id == answer.question_id.toString()) {\n            if (answer.project_id.toString() == project.id) {\n              this.answersByUser.push({\n                name: project.name + ' <' + project.id + '>',\n                value: Number(answer.content),\n                question_id: answer.question_id,\n                project_id: project.id\n              });\n            }\n          }\n        })\n      });\n    });\n\n    this.projectsByQuestion = _.mapValues(_.groupBy(this.answersByUser, 'question_id'),\n      clist => clist.map(answer => _.omit(answer, 'question_id')));\n\n    this.arrayOfProjectsByQuestion = [];\n\n    Object.entries(this.projectsByQuestion).forEach(([key, value]) => {\n      this.arrayOfProjectsByQuestion.push({'question_id': key, 'answer': value});\n    });\n  }\n\n  getProjectsByUser() {\n    this.projectsByUser = [];\n    this.projectStore.getProjects()\n        .subscribe((projects: Project[]) => {\n          this.projects = projects;\n        });\n\n    this.projects.forEach(project => {\n      if (project.teamLeadId == this.teamId) {\n        project['value'] = Number(project.billableDays);\n        this.projectsByUser.push(project);\n      }\n    });\n  }\n\n  getAnswers() {\n    this.answerStore.getAnswers()\n        .subscribe((answers: Answer[]) => {\n          this.answers = answers;\n        });\n  }\n\n  getQuestions() {\n    this.questionStore.getQuestions()\n        .subscribe((questions: Question[]) => {\n          this.questions = questions;\n        });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProjectsByQuestionComponent } from '@app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component';\nimport { SharedModule } from '@app/shared';\nimport { ProjectsByQuestionRouting } from '@app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.routing';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    ProjectsByQuestionRouting\n  ],\n  declarations: [\n    ProjectsByQuestionComponent\n  ]\n})\nexport class ProjectsByQuestionModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.module.ts","import { RouterModule, Routes } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { ProjectsByQuestionComponent } from '@app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.component';\n\nconst projectsByQuestionRoutes: Routes = [\n  {\n    path: '',\n    component: ProjectsByQuestionComponent\n  }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    RouterModule.forChild(projectsByQuestionRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class ProjectsByQuestionRouting {}\n\n\n// WEBPACK FOOTER //\n// ./src/app/ffufm-feedback-dashboard-features/projects-by-question/projects-by-question.routing.ts"],"sourceRoot":"webpack:///"}