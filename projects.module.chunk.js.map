{"version":3,"sources":["./src/app/ffufm-feedback-dashboard-features/projects/projects.component.css","./src/app/ffufm-feedback-dashboard-features/projects/projects.component.html","./src/app/ffufm-feedback-dashboard-features/projects/projects.component.ts","./src/app/ffufm-feedback-dashboard-features/projects/projects.module.ts","./src/app/ffufm-feedback-dashboard-features/projects/projects.routing.ts"],"names":[],"mappings":"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","file":"projects.module.chunk.js","sourcesContent":["module.exports = \".chart-container {\\n    height: 30vh;\\n}\\n\\n.results-container {\\n    max-height: 80vh;\\n}\\n\\nbutton {\\n    margin: 0 auto;\\n    display: block;\\n}\\n\\n.results .right-panel {\\n    display: inline-block;\\n    width: 69%;\\n}\\n\\n.results .left-panel {\\n    display: inline-block;\\n    width: 30%;\\n}\\n\\n.chip > label {\\n  background-color: #7f7e80;\\n  border-radius: 5px;\\n  padding: 5px;\\n  color: #ffffff;\\n}\\n\\n.chip > label > span {\\n  color: white;\\n}\\n\\n.chip > label:hover{\\n  background-color: #979194;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ffufm-feedback-dashboard-features/projects/projects.component.css\n// module id = ./src/app/ffufm-feedback-dashboard-features/projects/projects.component.css\n// module chunks = projects.module","module.exports = \"<!--projects works!-->\\n\\n<div class=\\\"results container\\\">\\n  <div class=\\\"left-panel\\\">\\n    number of projects to show: <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"count\\\"\\n                                       (input)=\\\"reloadProjects()\\\">\\n    billing date earlier than: <input type=\\\"date\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"startDate\\\"\\n                                      (input)=\\\"reloadProjects()\\\">\\n    project name contains: <input class=\\\"form-control\\\" [(ngModel)]=\\\"queryProjectName\\\" (input)=\\\"reloadProjects()\\\">\\n    description contains: <input class=\\\"form-control\\\" [(ngModel)]=\\\"queryProjectDescription\\\"\\n                                 (input)=\\\"reloadProjects()\\\">\\n    team name contains: <input class=\\\"form-control\\\" [(ngModel)]=\\\"queryProjectTeamLeadName\\\" (input)=\\\"reloadProjects()\\\">\\n    project manager name contains: <input class=\\\"form-control\\\" [(ngModel)]=\\\"queryProjectProjectManagerName\\\"\\n                                          (input)=\\\"reloadProjects()\\\">\\n  </div>\\n\\n  <div class=\\\"right-panel pre-scrollable\\\" style=\\\"text-align: center\\\">\\n    <div *ngFor=\\\"let project of sortedProjects\\\">\\n      <!--<button (click)=\\\"dumpProject(project)\\\" class=\\\"btn\\\">{{ project.name }} <{{ project.id }}></button>-->\\n\\n      <span class=\\\"chip\\\" (click)=\\\"dumpProject(project)\\\">\\n          <label>{{ project.name }} <{{ project.id }}>\\n          </label>\\n        </span>\\n    </div>\\n  </div>\\n  <br/>\\n  <br/>\\n  <br/>\\n  <ng-container *ngIf=\\\"selectedProject !== null\\\">\\n  <pre>\\n      Name: {{ selectedProject.name }} | ID: {{ selectedProject.id }}\\n      Description: {{ selectedProject.description }}\\n      Billing Date: {{ selectedProject.billingDate }}\\n      Billable Days: {{ selectedProject.billableDays }}\\n      Project Manager: {{ selectedProject.$$projectManagerName }}\\n      Team Lead: {{ selectedProject.$$teamLeadName }}\\n  </pre>\\n  </ng-container>\\n\\n</div>\\n<!--</div>-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ffufm-feedback-dashboard-features/projects/projects.component.html\n// module id = ./src/app/ffufm-feedback-dashboard-features/projects/projects.component.html\n// module chunks = projects.module","import { Component, OnInit } from '@angular/core';\nimport { Project } from '@app/shared/models/project.model';\nimport { ProjectStore, UserStore } from '@app/core/stores';\nimport { User } from '@app/shared/models/user.model';\nimport * as _ from 'lodash';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'ffufm-feedback-dashboard-projects',\n  templateUrl: './projects.component.html',\n  styleUrls: ['./projects.component.css']\n})\nexport class ProjectsComponent implements OnInit {\n  // @Input() sorted: any[];\n\n  projects: Project[];\n\n  count: string = '';\n  startDate = moment(Date.now()).format('YYYY-MM-DD');\n  sortedProjects: any[];\n  arrayOfProjects: any[];\n  users: User[];\n  queryProjectName: string = '';\n  queryProjectDescription: string = '';\n  queryProjectTeamLeadName: string = '';\n  queryProjectProjectManagerName: string = '';\n  selectedProject: Project = null;\n  // sortedProjects: any[];\n  // projects: any[];\n  // sortedProjects: any[];\n\n  constructor(private projectStore: ProjectStore,\n              private userStore: UserStore) { }\n\n  ngOnInit() {\n    this.getProjects();\n    this.getUsers();\n    this.reloadProjects();\n  }\n\n  getUsers() {\n    this.userStore.getUsers()\n        .subscribe((users: User[]) => {\n          this.users = users;\n        });\n  }\n\n  getProjects() {\n    this.projectStore.getProjects()\n        .subscribe((projects: Project[]) => {\n          this.projects = [];\n          projects.forEach((project) => {\n            // project.name = project.name + ' <' + project.id + '>';\n\n            this.projects.push(project);\n          });\n        });\n  }\n\n  reloadProjects() {\n    this.sortedProjects = _.map(this.projects, (project: Project) => {\n      project.billingDate = moment(project.billingDate);\n      this.users.forEach((user) => {\n        if (user.id === project.projectManagerId) {\n          project.$$projectManagerName = user.displayName;\n        }\n        if (user.id === project.teamLeadId) {\n          project.$$teamLeadName = user.displayName;\n        }\n      });\n      return project;\n    });\n\n    this.sortedProjects = _.sortBy(this.sortedProjects, (project: Project) => { return project.billingDate }, 'desc');\n\n    this.sortedProjects = _.filter(this.projects, (project: Project) => {\n      return (\n        project.billingDate <= moment(this.startDate) &&\n        (project.name.toLowerCase().includes(this.queryProjectName.toLowerCase()) || project.id.toLowerCase().includes(this.queryProjectName.toLowerCase())) &&\n        (project.description.toLowerCase().includes(this.queryProjectDescription.toLowerCase())) &&\n        (project.$$teamLeadName.toLowerCase().includes(this.queryProjectTeamLeadName.toLowerCase()) || project.teamLeadId === this.queryProjectTeamLeadName) &&\n        (project.$$projectManagerName.toLowerCase().includes(this.queryProjectProjectManagerName.toLowerCase()) || project.projectManagerId === this.queryProjectProjectManagerName)\n      )\n\n    });\n\n    this.sortedProjects = _.sortBy(this.sortedProjects, (project: Project) => { return project.billingDate }).reverse();\n\n    if (this.count !== '') {\n      this.sortedProjects = this.sortedProjects.splice(0, Number(this.count));\n    }\n\n  }\n\n  select(event) {\n    let projectId = event['name'].toString().slice(event['name'].indexOf('<') + 1, event['name'].indexOf('>'));\n    window.location.href = window.location.href + '/' + projectId;\n  }\n\n  dumpProject(project) {\n    this.selectedProject = project;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ffufm-feedback-dashboard-features/projects/projects.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@app/shared';\nimport { ProjectsRouting } from '@app/ffufm-feedback-dashboard-features/projects/projects.routing';\nimport { ProjectsComponent } from '@app/ffufm-feedback-dashboard-features/projects/projects.component';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    ProjectsRouting,\n    FormsModule\n  ],\n  declarations: [\n    ProjectsComponent\n  ]\n})\nexport class ProjectsModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/app/ffufm-feedback-dashboard-features/projects/projects.module.ts","import { RouterModule, Routes } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { ProjectsComponent } from '@app/ffufm-feedback-dashboard-features/projects/projects.component';\n\nconst projectsRoutes: Routes = [\n  {\n    path: '',\n    component: ProjectsComponent\n  }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    RouterModule.forChild(projectsRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class ProjectsRouting {}\n\n\n// WEBPACK FOOTER //\n// ./src/app/ffufm-feedback-dashboard-features/projects/projects.routing.ts"],"sourceRoot":"webpack:///"}